# NIO Selector
基于Selector的多路复用，避免多线程的资源占用以及线程间切换的上下文消耗  
对理解redis的单线程多路复用有帮助  

基于原生NIO Socket编程太过复杂，确实没有netty好用

### 示例
服务器端，单线程监听通道  
客户端，1个线程监听通道读取消息，1个线程监听控制台输入并发送消息  
先运行服务器程序，再分别运行创建2个客户端的程序  
在客户端程序控制台输入消息  

### 自定义数据传输协议
由于基于TCP协议的是长连接，在read()方法接收读取数据时，判断-1为全部接收结束，而非本次接收结束(只有发送端关闭输出流时才会等于-1)  
因此，通过自定义数据传输协议的方式实现数据的读取  

消息头，本次发送消息的字节数组长度，已占用buffer开始的4个字节的整型保存  
消息体，本次发送消息的字节数组  

发送数据时，先在buffer中添加消息头，再追加消息体  
当接收端buffer中有数据时，通道置于read状态，通过监听通道状态读取数据  
接收数据时，先从buffer读取消息头，获取本次消息实际长度，再读取实际长度的字节数组消息体，转为字符串  
即 ，读取buffer中指定长度数据而非阻塞读取全部

